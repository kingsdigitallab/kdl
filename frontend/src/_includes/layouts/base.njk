{% extends "kdl/base.njk" %}

{% set baseUrl = "/" | url %}
{% set assetsPath = "/assets" | url %}

{% block headExtra %}
<base href="{{ baseUrl }}" />
{% endblock %}

{% block headMeta %}
{% seo "" %}
{% endblock %}

{% block stylesheets %}
<link href="{% route '/_pagefind/pagefind-ui.css' %}" rel="stylesheet">
{{ super() }}
{% endblock %}

{% block headerMain %}
{{
headerMacro({
title: seo.title,
logo: {
src: "/assets/images/kings-logo-red.svg" | url,
alt: "King's College London red logo"
},
url: baseUrl
})
}}
{% endblock %}

{% block headerSearch %}
<div id="search" role="search"></div>
{% endblock %}

{% block content %}
{{ content | safe }}
{% endblock %}

{% block bodyEnd %}
<script src="{% route '/_pagefind/pagefind-ui.js' %}" type="text/javascript"></script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    new PagefindUI({element: "#search"});
  });
</script>
{% endblock %}
