// 1. General
// 2. Header/Navigation
// Mixins

@mixin calc($prop, $val) {
  @each $pre in -webkit-, -moz-, -o- {
    #{$prop}: $pre + calc(#{$val});
  }

  #{$prop}: calc(#{$val});
}

@mixin translate3d($x, $y, $z) {
  -webkit-transform: translate3d($x, $y, $z);
  -moz-transform: translate3d($x, $y, $z);
  -o-transform: translate3d($x, $y, $z);
  transform: translate3d($x, $y, $z);
}

@mixin transition($args...) {
  -webkit-transition: $args;
  -moz-transition: $args;
  -ms-transition: $args;
  -o-transition: $args;
  transition: $args;
}
@mixin border-radius($radius) {
  -webkit-border-radius: $radius;
  -moz-border-radius: $radius;
  -ms-border-radius: $radius;
  border-radius: $radius;
}

@mixin rotate($degrees) {
  -webkit-transform: rotate($degrees);
  -moz-transform: rotate($degrees);
  -ms-transform: rotate($degrees);
  -o-transform: rotate($degrees);
  transform: rotate($degrees);
}

@mixin transform($transforms) {
  -moz-transform: $transforms;
  -o-transform: $transforms;
  -ms-transform: $transforms;
  -webkit-transform: $transforms;
  transform: $transforms;
}

@mixin animation($animation...) {
  -o-animation: $animation;
  -moz-animation: $animation;
  -webkit-animation: $animation;
  animation: $animation;
}

@mixin transition($args...) {
  -webkit-transition: $args;
  -moz-transition: $args;
  -ms-transition: $args;
  -o-transition: $args;
  transition: $args;
}
//*** 1. General  ***//
html {
  scroll-behavior: smooth;
}

html, body {
  margin: 0;
  height: 100%;
  font-family: KingsBureauGrotThreeSeven,sans-serif;
  //font-family: KingsBureauGrotFiveOne,"Helvetica Neue",Helvetica,Arial,sans-serif;
 
}

* {
  box-sizing: border-box;
}
section{      
  width:100%;
}

.wrapper{
  max-width:1220px;
  margin:0 auto;
  //display:flex;
}


//*** 2. Header/Navigation ***//

header{
    a.sitename{
    text-decoration: none;
    color:white;
    position:absolute;
    font-size:1.6em;
    padding: 0.4em 0;
    span{
      font-family:Georgia, Times, Times New Roman, serif;
      font-size:1.2em;      
    }// span
  }// a.sitename
  a.kcl-logo{
      width:8em;
      text-align:right;
      float:right;
      position:relative;
      display:inline-block;
     align-self: flex-end;
 
    img{
      width:8em;
      text-align:right;
      float:right;
      position:relative;
      display:inline-block;
  //right: initial;
      //margin-left:70%;
  //top: 0;
    }//img
  }// a.kcl-logo
  nav.main{
  z-index:1;
  background: rgb(90, 99, 105);
  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
  color: white;
  height: 50px;
  padding: 0 1em;
  border-bottom:0.3em solid lightgray;
  .wrapper {
    margin:0 auto;
    >ul{ /* first-level */
  margin: 0 2em 0 auto;
   list-style-type:none;
      float:right;
  >li{
          display:block;
      float:left;
          transition: all ease-out 
    250ms;
  position: relative;//underline animation
color:darken(white,20%);
    &:after {
  content: '';
  position: absolute;
  width: 100%;
  transform: scaleX(0);
  height: 1px;
  bottom: 0;
  left: 0;
  background-color: darken(white,40%);
  transition: transform 0.25s ease-out;
}//&:after
&.active {
  color: white; 
          position: relative;//underline animation
        padding:10px;
&:after {
  content: '';
  position: absolute;
  width: 100%;
  transform: scaleX(1);
  height: 2px;
  bottom: 0;
  left: 0;
  background-color: white;
  transition: transform 0.25s ease-out;
}//&:after
}//&.active
      a{ 
        text-decoration: none;
        color:darken(white,20%);
        &:hover{
          color:white;
        }//&:hover
      }//a
    a,label {
           display: block;
      padding:0.9em 1em;
  transition: all .25s ease-in;
      &:focus, &:hover {}// &:focus,&:hover 
    }// a,label 
  label{
    cursor: pointer;
  }//label
      >ul{ /* second-level */
        margin-left:-40px;
          height: 100%;
  max-height: 0;
  overflow: hidden;
  transition: max-height .5s ease-in-out;
        list-style-type:none;
        li{ 
    a,label {
  background: #353535;
  box-shadow: inset 0 -1px lighten(#353535, 7%);
      &:focus, &:hover {background: darken(#353535, 7%);}// &:focus,&:hover 
    }// a,label 
    >ul{ /* third-level */
        height: 100%;
  max-height: 0;
  overflow: hidden;
  list-style-type:none;
  transition: max-height .5s ease-in-out;
     li{
    a,label {
  background: #454545;
  box-shadow: inset 0 -1px lighten(#454545, 7%);
      &:focus, &:hover {background: darken(#454545, 7%);}// &:focus,&:hover 
    }// a,label 
           >ul{ /* fourth-level */
        height: 100%;
  max-height: 0;
  overflow: hidden;
  transition: max-height .5s ease-in-out;
   list-style-type:none;
     li{
    a,label {
  background: #454545;
  box-shadow: inset 0 -1px lighten(#454545, 7%);

      &:focus, &:hover {background: darken(#454545, 7%);}// &:focus,&:hover 
    }// a,label 
      }// li
  }//ul fourth-level
      }// li
  }//ul third-level
      }// li second level
  }//ul second-level
  }// li first-level
  input[type=checkbox]:checked + label + ul {
	/* reset the height when checkbox is checked */
  max-height: 1000px;
}//input[type=checkbox]:checked + label + ul 
    
  /** chevron icon **/
input[type=checkbox] + label.check{
  position: relative;
  &:after{
  content: "";
display: inline-block;
z-index: 1;
top: 0.15em;
border-style: solid;
border-width: 1px 1px 0 0;
height: 0.5em;
position: relative;
transform: rotate(135deg);
transition: 0.35s ease-in-out;
vertical-align: top;
width: 0.5em;
left: 0.5em;
  }
}// input[type=checkbox] + label.check
  input[type=checkbox]:checked + label.check{
  
  &:before, &:after{
    transform: rotate(-45deg);
  }
    &:before{
    display:none;
      
    }  
}//input[type=checkbox]:checked + label.check  
    
    }//.wrapper
    }//ul first-level



.menu-button-container {
  display: none;
  height: 100%;
  width: 30px;
  cursor: pointer;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}//.menu-button-container 

#menu-toggle {
  display: none;
}//#menu-toggle 

.menu-button,
.menu-button::before,
.menu-button::after {
  display: block;
  background-color: #fff;
  position: absolute;
  height: 2px;
  width: 30px;
  transition: transform 400ms cubic-bezier(0.23, 1, 0.32, 1);
}
  
  .menu-button{
&::before {
  content: '';
  margin-top: -8px;
}//&::before 
    &::after {
  content: '';
  margin-top: 8px;
}//&::after 
}//.menu-button

#menu-toggle:checked + .menu-button-container {
    .menu-button {
  background: rgba(255, 255, 255, 0);
&::before {
  margin-top: 0px;
  transform: rotate(45deg);
  }//&::before 
&::after {
  margin-top: 0px;
  transform: rotate(-45deg);
}//&::after 
}//.menu-button
}//#menu-toggle:checked + .menu-button-container
  }//.nav.main

nav.sub{
  background: rgb(230, 235, 237);
  padding:1em 1em;
  border-bottom:0.7em solid rgb(10, 45, 80);
  .breadcrumbs{
    ol{
      list-style-type:none;
      margin-left:-40px;
      li{
        a{
          color:gray;
          &:after{
            content: ">";
            position: absolute;
            padding: 0 0.5em;
          }//&:after
        }//a
      }//li
    }//ol
  }//breadcrumbs
  h1{
    margin:0;
    small{
      font-weight:normal;
      font-size:0.6em;
    }
  }//h1
  ul{
    display:block;
    list-style-type:none;
    margin:0.5em 0 0 -40px;
    li{
      padding:0 1em;
      border-right:0.1em solid;
      display:inline-block;
      a{
        color:black;
        text-decoration:none;
      }//a
      &:hover{
        text-decoration:underline;
      }//&:hover
      &:first-child{
        padding-left:0;
      }//&:first-child
      &:last-child{
        border-right:none;
      }//&:last-child
    }//li
  }//ul
}//nav.sub
}//header


  

//*** End Navigation ***//

//*** 3. Project Index Page ***//

main.projects{
  padding: 5em 1em;
      a{
        text-decoration:none;
        color:black;
       padding:0.5em 0;
        cursor:default;
        display:block;
           h2{
        display:inline-block;
             font-weight:normal;
             cursor:pointer;
             margin:0;
             font-family: "KingsCaslon",serif;
                      &:hover{
          text-decoration:underline;
                       color: #c11609;
                        color:#0a2d50;
                }//&:hover
      }//h2
       small{
         color:gray;
         font-family: KingsBureauGrotThreeSeven,sans-serif;
         font-size:0.6em;
         //color: #c11609;
          //font-family: "KingsCaslon",serif;
        }//small    
        span{
          font-style:italic;
        }//span
        }//a
     

}//main.projects









.project{
  padding: 0 1em;
  article{
    max-width: 1220px;
    margin:0 auto;
    >section{
      width: 100%;
      display:flex;
      border-bottom: 0.1vw solid black;
      >section{
        display:block;
        width:70%;
        margin:0 5% 0 0;
        &:last-child{
          width:30%;
          margin:0;
          //border-left: 0.1vw solid black;
          background:rgb(237, 241, 242);
        }//&:last-child{
      }//>section 2nd level
    figure{
      margin:0;
      img{
      width:100%;
      }//img
      figcaption{
        font-size:0.7em;
        text-align: center;
      }
    }//figure
    #overview{
      
    }
    #links {
      border-top:0.3em solid rgb(220, 227, 230);
      width:100%;
      padding-top:2em;
      ul {
        margin: 0 0 0 -40px;
        li {
          list-style-type: none;
          margin-bottom: 0.5em;

          a {
            padding: 0.5em;
            display: block;
            border: 1px solid black;
            text-align: center;
            @include transition(all 200ms ease-in);
            &:hover {
              background: lighten(black, 3%);
              @include transition(all 200ms ease-in);
            } //&:hover
          } //a
        } //li
      } //ul
    } //#links
    #metadata {
      margin:0 5%;
      padding-top:1em;
      dl {
        dt {
          margin-top: 1.2vw;
          font-size: 1.2em;
          font-weight:bold;

        } //dt
        dd {
          margin-left: 0;
        } //dd
      } //dl
      span{
        background:rgb(40, 195, 130);
        margin-left:-5%;
        padding:0.3em 0.5em;
      }
    } //#metatdata

    .post-meta {
      margin-left: 5%;
    }
 
  }//section
  #team {
    width: 100%;
    display:block;
    h2{
      width:100%;
    }
    ul {
      margin-left: -40px;
      display: flex;
      flex-wrap: wrap;
      width: 100%;
      li {
        list-style-type: none;
        flex: 0 0 33.3%;
        margin-bottom: 1em;
        span {
          font-size: 0.8em;
        }
      } //li
    } //ul
  } //#team


  }//article


}//.project


@media (max-width: 800px) {
header{
  a.sitename{
    font-size:1.5em;
    padding:0.5em 0;
  }//a.sitename
    a.kcl-logo{
    img{
      width:3.65em;
    }//img
  }// a.kcl-logo
nav.main{
  .wrapper{
>ul{
 // position: absolute;
    //top: 0;
   margin-top: 100px;
    //left:0;
   width: 100%;
  //margin-left: 40px;
        > li {
    text-align: center;
    margin: 0;
    width: calc(100% + 40px);
    color: white;
    background-color: #222;
          margin-left:10px;
           padding:0;
          &:not(:last-child) {
    border-bottom: 1px solid #444;
  }//&:not(:last-child)
  }//> li 
  }//.menu
    
    .menu-button-container {
   display: flex;
        position: absolute;
  right: 7em;
  top: 1.3em;
flex-direction: row;
justify-content: normal;
align-items: initial;
  }//.menu-button-container 

  #menu-toggle{ 
    ~ ul{
    //  height:0;
     width: 0;
      opacity:0
      //transition: width 100ms cubic-bezier(0.23, 1, 0.32, 1);
    }
  /*    ~ ul li, ~ ul li label {
 //height: 0;
  margin: 0;
    padding: 0;
   border: 0; 
  // opacity:0;    
 // transition: height 400ms cubic-bezier(0.23, 1, 0.32, 1);*/
   /*   a{
  // opacity:0;
   padding:5vh 0;
    color:white;
      }//a
      }//~ .menu li*/
      &:checked{ 
            ~ ul{
   //  height:0;
    width: calc(100% + 40px);
    opacity:1;
              margin-top: 0;
    //transition: width 100ms cubic-bezier(0.23, 1, 0.32, 1);
              ~ li{
               
              }//~ li
    }//~ ul

  /*      ~ ul li, ~ ul li label{
            border: 1px solid #333;
    height: 100%;
  transition: height 100ms cubic-bezier(0.23, 1, 0.32, 1);
  opacity:1;
    z-index:9;
           background:green;
        a{
        opacity:1;
          display:block;
           z-index:9;
        }//a
        }//~ .menu li
        ~ ul li label{
         padding:5vh 0;
        }*/
    }//&:checked
  }//#menu-toggle 
  }//.wrapper
}//.nav.main
  nav.sub{
    ul{
      display:none;
    }//ul
    border:none;
  }//nav.sub  
}//header
  main.projects{
    span{
      display:block;
    }//span
  }//main.projects  
}//@media (max-width: 800px)

